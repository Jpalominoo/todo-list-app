<div class="right-menu right-menu-float side-menu-theme">
    <div class="elements">
        <span>
            <h1>Edit Task</h1>
        </span>
        <p-floatlabel variant="on">
            <input pInputText id="on_label" autocomplete="off" [(ngModel)]="editedTask?.title" />
            <label for="on_label">Title</label>
        </p-floatlabel>
        <textarea pTextarea rows="5" cols="27" style="resize: none" placeholder="Description" class="h-full" [(ngModel)]="editedTask?.description"></textarea>
        <div class="task-info">
            <label class="label">Category</label>
            <p-select [options]="categories" optionLabel="name" optionValue="name" placeholder="Select a Category" class="w-full md:w-56" [(ngModel)]="editedTask?.category" />
        </div>
        <div class="task-info">
            <label class="label">Tag</label>
            <p-select [options]="tags" placeholder="Select a Tag" class="w-full md:w-56" [(ngModel)]="editedTask?.tag"></p-select>
        </div>
        <div class="task-info">
            <label class="label">Date</label>
            <p-calendar [(ngModel)]="editedTask?.date" showIcon dateFormat="dd-mm-yy" inputId="dueDate" />
        </div>

        <!-- Subtasks Component -->
        <todo-list-subtasks 
            [subtasks]="editedTask?.subtasks || []" 
            (subtasksChange)="onSubtaskChange($event)"
        ></todo-list-subtasks>

        <!-- Save and Close buttons -->
        <div class="footer-actions">
            <button class="save-changes-btn" (click)="saveTask()">Save Changes</button>
            <button class="close-right-menu-footer" (click)="closeMenu.emit()" aria-label="Cerrar menÃº">&#10005; Close</button>
        </div>
    </div>
</div>


